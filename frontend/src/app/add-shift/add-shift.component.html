<script src="../interfaces/shift-template.ts"></script>
<div class="relative z-10" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <div class="fixed inset-0 bg-gray-500/75 transition-opacity" aria-hidden="true"></div>

  <div class="fixed inset-0 z-10 w-screen overflow-y-auto">
    <div class="flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0">
      <div class="relative transform overflow-hidden rounded-lg bg-white text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg">
        <div class="bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4">
          <div class="">
            <h1>{{ selectedDate?.date }}</h1>
          </div>


          <h1>Select Shift Template</h1>
          <div class="flex gap-2">
            <form class="flex-3/4">
                  <div class="sm:col-span-3">
                    <div class="my-1">
                      <select #shiftTemplateInput name="shift-template" id="shift-template" class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
                        <option *ngFor="let template of shiftTemplates" [value]="template.id">
                          {{ template.shiftTemplateName }}
                        </option>
                      </select>
                    </div>
                  </div>
            </form>

            <div class="flex-1/4 m-0">
              <button type="button" (click)="chooseShiftTemplate()" class=" cursor-pointer rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Load</button>
            </div>

          </div>


          <form (ngSubmit)="save()">
            <div class="space-y-1">
              <div class="">
                <div *ngFor="let tmpRoles of selectedShiftTemplate?.templateRoles" class="sm:col-span-3 pb-2 mb-5 border-b-gray-300 border-b-2">
                  <p class="block mt-3  text-xl text-gray-900">Role Id {{ tmpRoles.roleId }}</p>
                  <div *ngFor="let i of [].constructor(tmpRoles.count)" class="mt-2 flex">
                    <label for="{{ tmpRoles.roleId }}-{{ i }}" class="flex-1/3">{{ tmpRoles.roleId }} {{ i }}:</label>
                      <select #shiftTemplateInput name="shift-template" id="shift-templat1e" class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 focus:outline-2 focus:-outline-offset-2 focus:outline-indigo-600 sm:text-sm/6">
                        <option *ngFor="let template of shiftTemplates" [value]="template.id">
                          {{ template.shiftTemplateName }}
                        </option>
                      </select>
                  </div>
                </div>


              </div>

            </div>

            <div class="mt-6 flex items-center justify-end gap-x-6">
              <button type="button" class="cursor-pointer text-sm/6 font-semibold text-gray-900" (click)="closeAddShift()">Cancel</button>
              <button type="submit" class="cursor-pointer rounded-md bg-indigo-600 px-3 py-2 text-sm font-semibold text-white shadow-xs hover:bg-indigo-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">Save</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
